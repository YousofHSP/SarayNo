@using Common.Utilities
@{
	var currentController = ViewContext.RouteData.Values["controller"]?.ToString();
	var currentAction = ViewContext.RouteData.Values["action"]?.ToString();
}
<!DOCTYPE html>
<html lang="fa">
<head>
	<meta charset="utf-8"/>
	<meta name="viewport" content="width=device-width, initial-scale=1.0"/>
	<title>@ViewData["Title"]</title>
	<link rel="stylesheet" href="~/lib/bootstrap/dist/css/bootstrap.min.css"/>
	<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.10.5/font/bootstrap-icons.css">
	<link rel="stylesheet" href="~/css/font.css"/>
	<link rel="stylesheet" href="~/css/style.min.css"/>
	<link rel="stylesheet" href="~/css/site.css"/>
	<link rel="stylesheet" href="~/plugins/font-awesome-4/css/font-awesome.css"/>

	@await RenderSectionAsync("Styles", required: false)
</head>
<body>
<div class="blur-container">

	<div class="blur-background"></div>

	<div class="container-fluid">
		<div class="row">

			<!-- Sidebar -->
			<nav class="col-md-2 p-0">
				<!-- Toggle Button for Small Screens -->
				<div class="d-flex justify-content-between align-items-center d-md-none bg-dark text-white p-3">
					<h5 class="mb-0">منو</h5>
					<button class="btn btn-outline-light" type="button" data-bs-toggle="collapse"
					        data-bs-target="#sidebarMenu">
						<i class="bi bi-list"></i>
					</button>
				</div>

				<div class="sidebar collapse d-md-block" id="sidebarMenu">
					<h4 class="mb-4">منو</h4>
					<ul class="nav nav-pills flex-column gap-2">
						<li class="nav-item">
							<a asp-controller="Home" asp-action="Index"
							   class="nav-link @(currentController == "Home" && currentAction == "Index" ? "active" : "")">
								<i class="bi bi-speedometer2"></i> داشبورد
							</a>
						</li>
						<li class="nav-item">
							<a asp-controller="Exam" asp-action="Index"
							   class="nav-link @(currentController == "Exam" && currentAction != "Taken" ? "active" : "")">
								<i class="bi bi-journal-text"></i> آزمون‌ها
							</a>
						</li>
						<li class="nav-item">
							<a asp-controller="Exam" asp-action="Taken"
							   class="nav-link @(currentController == "Exam" && currentAction == "Taken" ? "active" : "")">
								<i class="bi bi-check2-square"></i> آزمون‌های شرکت کرده
							</a>
						</li>
						<li class="nav-item">
							<a asp-controller="Account" asp-action="Logout"
							   class="nav-link @(currentController == "Account" && currentAction == "Logout" ? "active" : "")">
								<i class="bi bi-box-arrow-left"></i> خروج
							</a>
						</li>
					</ul>
				</div>
			</nav>

			<!-- Main Content -->
			<main class="col-md-10 p-4">
				@RenderBody()
			</main>

		</div>
	</div>
</div>


<script>
	let datePickerConfigs = {
		"inline": false,
		"format": "HH:mm YYYY/MM/DD",
		"viewMode": "day",
		"initialValue": true,
		"minDate": null,
		"maxDate": null,
		"autoClose": true,
		"position": "auto",
		"altFormat": "l",
		"altField": "#altfieldExample",
		"onlyTimePicker": false,
		"onlySelectOnDate": true,
		"calendarType": "persian",
		"inputDelay": 800,
		"observer": false,
		"calendar": {
			"persian": {
				"locale": "fa",
				"showHint": false,
				"leapYearMode": "algorithmic"
			},
			"gregorian": {
				"locale": "en",
				"showHint": false
			}
		},
		"navigator": {
			"enabled": true,
			"scroll": {
				"enabled": true
			},
			"text": {
				"btnNextText": ">",
				"btnPrevText": "<"
			}
		},
		"toolbox": {
			"enabled": false,
			"calendarSwitch": {
				"enabled": true,
				"format": "MMMM"
			},
			"todayButton": {
				"enabled": true,
				"text": {
					"fa": "امروز",
					"en": "Today"
				}
			},
			"submitButton": {
				"enabled": true,
				"text": {
					"fa": "تایید",
					"en": "Submit"
				}
			},
			"text": {
				"btnToday": "امروز"
			}
		},
		"timePicker": {
			"enabled": true,
			"step": 1,
			"hour": {
				"enabled": true,
				"step": null
			},
			"minute": {
				"enabled": true,
				"step": null
			},
			"second": {
				"enabled": false,
				"step": null
			},
			"meridian": {
				"enabled": false
			}
		},
		"dayPicker": {
			"enabled": true,
			"titleFormat": "YYYY MMMM"
		},
		"monthPicker": {
			"enabled": true,
			"titleFormat": "YYYY"
		},
		"yearPicker": {
			"enabled": true,
			"titleFormat": "YYYY"
		},
		"responsive": false
	}
</script>

<script src="~/lib/jquery/dist/jquery.min.js"></script>
<script src="~/js/persian-datepicker/persian-date.js"></script>
<script src="~/js/persian-datepicker/persian-datepicker.js"></script>
<script src="~/lib/bootstrap/dist/js/bootstrap.bundle.min.js"></script>
<script src="~/js/jquery.slimscroll.min.js"></script>
<script src="~/plugins/select2/select2.min.js"></script>
<script src="~/js/datepickerconfig.js"></script>
<script src="~/js/jquery.repeater.min.js"></script>
<script src="~/js/sweetalert2.js"></script>



@await RenderSectionAsync("Scripts", required: false)

<script>

	$(".select2").select2({
		width: "100%"
	})

</script>
</body>
</html>